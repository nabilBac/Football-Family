# H2 en fichier persistant
spring.datasource.url=jdbc:h2:file:./data/football_family_db
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Dossier de stockage local des vidéos
videos.upload.dir=./uploads/videos

# Taille maximale pour un fichier
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB

# Logs détaillés
debug=true
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# Thymeleaf
spring.mvc.view.prefix=/templates/
spring.mvc.view.suffix=.html
spring.thymeleaf.cache=false

# Ressources statiques
spring.web.resources.cache.period=0

# Redis (optionnel)
# spring.data.redis.host=localhost
# spring.data.redis.port=6379
# spring.data.redis.timeout=2s
# spring.cache.type=redis

# Autres options
server.port=8080
spring.main.allow-bean-definition-overriding=true
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=ERROR
management.endpoints.web.exposure.include=health,info

# Taille maximale du batch pour l'envoi WebSocket des commentaires
comments.websocket.batch-size=10

# ----------------------------------------------------
# --- CONFIGURATION LOGS DE SÉCURITÉ (AJOUTÉE) ---
# ----------------------------------------------------
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.web.FilterChainProxy=TRACE

# ----------------------------------------------------
# --- NOUVELLE CONFIGURATION : OAuth2 Client (REQUIS) ---
# CECI EST LA LIGNE QUI RÉSOUD L'ERREUR 'No qualifying bean of type ClientRegistrationRepository'
# ----------------------------------------------------

# Configuration d'un fournisseur OAuth2 (Exemple : GitHub)
# Remplacer les valeurs ci-dessous par vos vraies clés OAuth2
spring.security.oauth2.client.registration.github.client-id=XXXXXXXXXXXXXXXXXXXX
spring.security.oauth2.client.registration.github.client-secret=YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY
spring.security.oauth2.client.registration.github.scope=read:user,user:email
